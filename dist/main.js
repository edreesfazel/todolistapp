(()=>{"use strict";const e=(e,t,n,o)=>({title:e,description:t,dueDate:n,priority:o}),t=()=>{const e=document.getElementById("toDoDisplay");for(;e.firstChild;)e.removeChild(e.firstChild)},n=e=>{const t=document.getElementById("toDoDisplay");e.todos.forEach((e=>{const n=document.createElement("div");n.classList.add("toDoDiv");const o=document.createElement("h2"),d=document.createElement("p"),c=document.createElement("p"),a=document.createElement("p"),l=document.createElement("input");l.type="checkbox",l.classList.add("completedCheckbox"),o.textContent=e.title,d.textContent=e.description,c.textContent=e.dueDate,a.textContent=e.priority,n.appendChild(o),n.appendChild(d),n.appendChild(c),n.appendChild(a),n.appendChild(l),t.appendChild(n)}))},o=()=>{const e=document.getElementById("projectContainer");for(;e.firstChild;)e.removeChild(e.firstChild);c.forEach((t=>{const n=document.createElement("button");n.textContent="x",n.classList.add("deleteProjectButton");const o=document.createElement("div"),d=document.createElement("h2");d.textContent=t.name,d.classList.add("projectItem"),o.classList.add("projectDisplayDiv"),o.appendChild(d),o.appendChild(n),e.appendChild(o)}))};document.getElementById("toDoDisplay").addEventListener("change",(e=>{if(e.target.classList.contains("completedCheckbox")){const t=e.target.closest(".toDoDiv");e.target.checked?t.classList.add("todoCompleted"):t.classList.remove("todoCompleted")}}));const d=e=>{localStorage.setItem("projects",JSON.stringify(e))},c=(()=>{const e=localStorage.getItem("projects");return e?JSON.parse(e):[]})(),a=()=>{const e=document.getElementById("projectSelect");e.innerHTML='<option value="" disabled selected>Select a Project</option>',c.forEach((t=>{const n=document.createElement("option");n.value=t.name,n.textContent=t.name,e.appendChild(n)}))};o();e("Buy Food","get fruits and chicken","2023-10-25","high"),e("Play Basketball","go to gym and play pickup","2023-10-22","medium"),document.getElementById("submitTodo").addEventListener("click",(()=>{const e=document.getElementById("title").value,o=document.getElementById("description").value,a=document.getElementById("dueDate").value,l=document.getElementById("priority").value,i=document.getElementById("projectSelect").value,s=c.find((e=>e.name===i));if(!((e,t,n,o,d)=>e.trim()?t.trim()?n?o?!!d.trim()||(alert("Please select a project!"),!1):(alert("Please select a priority!"),!1):(alert("Please select a due date!"),!1):(alert("Description cannot be blank!"),!1):(alert("Title cannot be blank!"),!1))(e,o,a,l,i))return;const m={title:e,description:o,dueDate:a,priority:l};s.todos.push(m);const r=document.createElement("h1"),p=document.createElement("p"),u=document.createElement("p"),h=document.createElement("p"),C=document.createElement("input");C.type="checkbox",C.classList.add("completedCheckbox"),r.textContent=e,p.textContent=o,u.textContent=a,h.textContent=l;const E=document.createElement("div"),y=document.getElementById("toDoDisplay");E.appendChild(r),E.appendChild(p),E.appendChild(u),E.appendChild(h),E.appendChild(C),E.classList.add("toDoDiv"),y.appendChild(E),d(c),t(),n(s)}));const l=document.getElementById("projectSelect");l.addEventListener("change",(()=>{const e=l.value,o=c.find((t=>t.name===e));t(),n(o)})),document.getElementById("addProjectButton").addEventListener("click",(()=>{const e=document.getElementById("projectNameInput"),t=e.value.trim();t?((e=>{if(c.some((t=>t.name===e)))return void alert("A project with this name already exists");const t={name:e,todos:[]};c.push(t),a(),o()})(t),e.value=""):alert("Please enter a valid project name"),d(c)})),document.getElementById("projectContainer").addEventListener("click",(e=>{if(e.target.classList.contains("projectItem")){const n=e.target.textContent,o=c.find((e=>e.name===n)),d=document.getElementById("toDoDisplay");t(),o.todos.forEach((e=>{const t=document.createElement("div"),n=document.createElement("h2"),o=document.createElement("p"),c=document.createElement("p"),a=document.createElement("p"),l=document.createElement("input");l.type="checkbox",l.classList.add("completedCheckbox"),n.textContent=e.title,o.textContent=e.description,c.textContent=e.dueDate,a.textContent=e.priority,t.appendChild(n),t.appendChild(o),t.appendChild(c),t.appendChild(a),t.appendChild(l),t.classList.add("toDoDiv"),d.appendChild(t)}))}e.target.classList.contains("deleteProjectButton")&&(e=>{const t=c.findIndex((t=>t.name===e));t>-1&&(c.splice(t,1),d(c),o(),a())})(e.target.previousElementSibling.textContent)}))})();